# Production Environment Configuration for HealthCoachAI Backend
# Copy to .env.production and configure with your production values

# ================================
# APPLICATION CONFIGURATION
# ================================
NODE_ENV=production
PORT=3000
API_VERSION=v1
APP_NAME=HealthCoachAI
APP_VERSION=1.0.0

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL Production Database
DATABASE_TYPE=postgres
DATABASE_HOST=your-production-db-host.com
DATABASE_PORT=5432
DATABASE_USERNAME=healthcoachai_prod
DATABASE_PASSWORD=your-secure-production-password
DATABASE_NAME=healthcoachai_production
DATABASE_SSL=true
DATABASE_SYNCHRONIZE=false
DATABASE_LOGGING=false

# Redis for Caching (Production)
REDIS_HOST=your-production-redis-host.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_TTL=3600

# ================================
# AI SERVICE API KEYS
# ================================
# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORGANIZATION_ID=org-your-organization-id
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7
OPENAI_MODEL=gpt-4-turbo

# Anthropic Claude Configuration
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=2000

# Google Vertex AI Configuration
GOOGLE_PROJECT_ID=your-gcp-project-id
GOOGLE_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
VERTEX_AI_MODEL=gemini-pro

# ================================
# AI ROUTING & TIERING
# ================================
# Daily AI Usage Limits
AI_TIER_1_DAILY_LIMIT=1000
AI_TIER_2_DAILY_LIMIT=500
AI_TIER_3_DAILY_LIMIT=100

# AI Model Routing
AI_PRIMARY_MODEL=openai
AI_FALLBACK_MODEL=anthropic
AI_TERTIARY_MODEL=vertex

# Rate Limiting
AI_RATE_LIMIT_PER_USER_PER_HOUR=60
AI_RATE_LIMIT_PER_USER_PER_DAY=300

# ================================
# SECURITY CONFIGURATION
# ================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-256-bits
JWT_EXPIRATION_TIME=24h
JWT_REFRESH_SECRET=your-refresh-token-secret
JWT_REFRESH_EXPIRATION_TIME=7d

# Encryption
ENCRYPTION_KEY=your-32-char-encryption-key-here
ENCRYPTION_ALGORITHM=aes-256-gcm

# CORS Origins (comma-separated)
CORS_ORIGINS=https://app.healthcoachai.com,https://www.healthcoachai.com

# ================================
# EXTERNAL SERVICES
# ================================
# Email Service (SendGrid, SES, etc.)
EMAIL_SERVICE=sendgrid
EMAIL_API_KEY=your-email-service-api-key
EMAIL_FROM_ADDRESS=noreply@healthcoachai.com
EMAIL_FROM_NAME=HealthCoachAI

# SMS Service (Twilio, etc.)
SMS_SERVICE=twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# File Storage (AWS S3, Google Cloud, etc.)
STORAGE_SERVICE=aws_s3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=healthcoachai-production-files

# ================================
# MONITORING & LOGGING
# ================================
# Application Monitoring
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/healthcoachai/app.log

# Error Tracking (Sentry, etc.)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# Application Performance Monitoring
APM_SERVICE=datadog
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_MEMORY_THRESHOLD=85
HEALTH_CHECK_DISK_THRESHOLD=90

# ================================
# CACHE CONFIGURATION
# ================================
# Cache TTL Settings (in seconds)
CACHE_TTL_MEAL_PLANS=1800        # 30 minutes
CACHE_TTL_RECIPES=3600           # 1 hour
CACHE_TTL_USER_PROFILE=900       # 15 minutes
CACHE_TTL_AI_RESPONSES=7200      # 2 hours
CACHE_TTL_HEALTH_REPORTS=1800    # 30 minutes

# ================================
# DOMAIN-SPECIFIC CONFIGURATION
# ================================
# Meal Planning Service
MEAL_PLANNING_MAX_RECIPES_PER_DAY=6
MEAL_PLANNING_MAX_ALTERNATIVES=5
MEAL_PLANNING_NUTRITION_TOLERANCE=0.15

# Chat Service
CHAT_MAX_CONTEXT_LENGTH=4000
CHAT_SESSION_TIMEOUT=3600        # 1 hour
CHAT_MAX_SESSIONS_PER_USER=5
CHAT_DOMAIN_RESTRICTION=true

# Health Reports Service
HEALTH_REPORTS_MAX_FILE_SIZE=10485760  # 10MB
HEALTH_REPORTS_ALLOWED_FORMATS=jpg,jpeg,png,pdf
HEALTH_REPORTS_OCR_CONFIDENCE_THRESHOLD=0.85
HEALTH_REPORTS_AI_ANALYSIS_ENABLED=true

# Nutrition Service
NUTRITION_API_PROVIDER=usda
NUTRITION_API_KEY=your-nutrition-api-key
NUTRITION_CACHE_DURATION=86400   # 24 hours

# ================================
# FEATURE FLAGS
# ================================
FEATURE_AI_CHAT_ENABLED=true
FEATURE_MEAL_PLANNING_ENABLED=true
FEATURE_HEALTH_REPORTS_ENABLED=true
FEATURE_FITNESS_TRACKING_ENABLED=true
FEATURE_SOCIAL_FEATURES_ENABLED=false
FEATURE_PREMIUM_FEATURES_ENABLED=true
FEATURE_HINGLISH_SUPPORT_ENABLED=true
FEATURE_OFFLINE_MODE_ENABLED=false

# ================================
# RATE LIMITING & SECURITY
# ================================
# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000      # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Security Headers
HELMET_ENABLED=true
HELMET_CONTENT_SECURITY_POLICY=true
HELMET_HSTS_MAX_AGE=31536000

# ================================
# DEPLOYMENT CONFIGURATION
# ================================
# Container Configuration
CONTAINER_PORT=3000
CONTAINER_MEMORY_LIMIT=2048m
CONTAINER_CPU_LIMIT=1000m

# Load Balancer Health Check
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_HEALTH_CHECK_PORT=3000

# Auto-scaling Configuration
AUTO_SCALING_MIN_INSTANCES=2
AUTO_SCALING_MAX_INSTANCES=10
AUTO_SCALING_TARGET_CPU=70
AUTO_SCALING_TARGET_MEMORY=80